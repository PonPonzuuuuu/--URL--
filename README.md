# 🧪 Pokémon LivePocket URL チェッカー

このツールは、LivePocket のイベントURLを大量にスキャンし、**ポケモン関連イベントを検出**するための非同期・GUI対応の自動チェッカーです。

- ✅ GUIによるファイル選択と実行状況の可視化
- 🚀 非同期処理＋レート制限（1秒5件）で効率的なスキャン
- 🔁 アクセス制限検出時は3分間自動停止＋再開対応
- 💾 実行中の進捗・HIT結果をリアルタイム保存
- 🧠 中断復帰・再試行・重複防止に完全対応

## 📁 構成ファイル

| ファイル名                              | 説明                                                                 |
|------------------------------------------|----------------------------------------------------------------------|
| `generate_index.py`                      | LivePocket用の5文字URL候補を辞書順で生成し、CSVファイル分割保存します |
| `indexes_folder/index_XXX.csv`           | 上記スクリプトで生成されたURL候補一覧（5文字コード）               |
| `Pokemon_LivePocket_URL_Checker.py`      | URLをスキャンしてポケモン関連のイベントを抽出するスクリプト（非同期） |
| `gui.py`                                 | GUIランチャー（Tkinter）                                             |
| `save/accessed_url.json`                 | 処理済みURLの記録ファイル（再実行防止・中断復帰用）               |
| `Result/pokemon_livepocket_urls_XXX.json`| HITイベントの記録結果（タイトル＋URL）                              |
| `Start.bat`                              | GUIを起動するバッチファイル（ダブルクリックでOK）                  |

## 🚀 セットアップ手順

### 1. 必要ライブラリのインストール

```bash
pip install aiohttp aiofiles beautifulsoup4
```

### 2. インデックスリストの生成

以下コマンドで `indexes_folder/` にCSVを生成（1ファイル3万件ずつ）

```bash
python generate_index.py
```

### 3. GUIの起動

```bash
python gui.py
```

または `Start.bat` をダブルクリックで簡単起動。

## 🖥 GUIの使い方

1. 「参照」でスキャン対象の `index_XXX.csv` を選択
2. 「▶ スキャン実行」で開始
3. ログに詳細出力され、HITがあると緑色表示
4. アクセス制限が出た場合は自動で3分停止して再開
5. 「⏹ 停止」ボタンでいつでも中断可能

## 🔍 検出ルール

**以下のキーワードがタイトルに含まれているURLをHITとして検出します：**

- ポケモン
- ポケモンカード
- ポケモンカードゲーム
- ポケカ
- ブラックボルト
- ホワイトフレア

**アクセス制限検出キーワード：**
- 不正
- エラー
- 制限

## 📦 出力ファイル

- `Result/pokemon_livepocket_urls_XXX.json`: 検出イベント
- `save/accessed_url.json`: スキャン済みURLの記録（再処理防止）

## 💡 Tips

- 複数のCSVファイルを順番にスキャンしていくことで全探索が可能
- `generate_index.py` の `chunk_size` を変えるとCSVの分割件数を変更できます
- 中断しても次回GUI起動時に再開できます

## 📄 ライセンス

個人利用・非営利目的での利用は自由です。再配布・商用利用時は作者までご連絡ください。
